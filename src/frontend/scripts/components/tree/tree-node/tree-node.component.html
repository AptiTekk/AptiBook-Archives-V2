<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<div class="tree-node-drop-point"
     [ngClass]="{'node-over': nodeOverDropPoint}"
     (dragenter)="onDragEnterDropPoint($event)"
     (dragover)="onDragEnterDropPoint($event)"
     (dragleave)="onDragLeaveDropPoint($event)"
     (drop)="onDropPointDrop($event)"></div>

<div class="tree-node"
     [ngClass]="{'node-selected': tree.selectedUserGroup?.id === userGroup?.id, 'node-highlighted': shouldHighlight(), 'node-dragging': tree.draggingNode == this}"
     [ngStyle]="{cursor: tree.selectable ? 'pointer' : null}"
     (click)="onNodeClick()"
     (dragstart)="onDragStart($event)"
     (dragend)="onDragEnd($event)"
     [draggable]="tree.dragAndDrop">
    {{userGroup.name}}
</div>

<ul *ngIf="userGroup.children != undefined && userGroup.children.length > 0">
    <li *ngFor="let userGroup of userGroup.children">
        <tree-node
                [tree]="tree"
                [userGroup]="userGroup"></tree-node>
    </li>
</ul>