<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<div #modalRoot
     class="modal fade"
     tabindex="-1"
     role="dialog"
     (keydown.esc)="closeOnEscape ? cancel() : 0"
     (keydown.enter)="!submitButtonDisabled && submitButtonLabel ? onSubmit.emit() : 0"
     [ngClass]="{'in': isOpen}"
     [ngStyle]="{'display': 'block'}"
     (click)="closeOnOutsideClick ? cancel() : 0">
    <div class="modal-dialog"
         [class.modal-lg]="size === 'lg'"
         [class.modal-sm]="size === 'sm'"
         role="document"
         (click)="$event.stopPropagation();">
        <div class="modal-content">

            <!-- Header -->
            <div class="modal-header">
                <!-- X close button (top right corner) -->
                <button type="button"
                        class="close"
                        aria-label="Close"
                        (click)="cancel()"
                        *ngIf="!hideCloseButton">
                    <span aria-hidden="true">x</span>
                </button>
                <h4 class="modal-title">
                    {{title}}
                </h4>
            </div>

            <!-- Body -->
            <div class="modal-body">
                <ng-content select="modal-body"></ng-content>
            </div>

            <!-- Footer -->
            <div class="modal-footer">
                <ng-content select="modal-footer"></ng-content>
                <button *ngIf="submitButtonLabel" type="button" class="btn btn-primary"
                        (click)="onSubmit.emit()" [disabled]="submitButtonDisabled">{{submitButtonLabel}}
                </button>
                <button *ngIf="cancelButtonLabel" type="button" class="btn btn-default" (click)="cancel()">
                    {{cancelButtonLabel}}
                </button>
                <button *ngIf="dangerSubmitButtonLabel" type="button" class="btn btn-danger pull-left"
                        (click)="onDangerSubmit.emit()">{{dangerSubmitButtonLabel}}
                </button>
            </div>
        </div>
    </div>
</div>