<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<div class="container-fluid no-padding h-100">
	
	<div class="row no-gutters h-100">
		<!-- Left Toolbar / Filter Section -->
		<div class="col-12 col-md-3">
			
			<!-- Filters Section -->
			<calendar-header>
			</calendar-header>
			<div style="padding: 10px 10px">
				<div class="form-group">
					<at-checkbox [(ngModel)]="filterOnlyUsersEvents"
								 [label]="'Show My Reservations Only'">
					</at-checkbox>
				</div>
				<h4>Category Filters</h4>
				<hr/>
				<div class="form-group"
					 *ngFor="let resourceCategory of resourceCategories">
					<at-checkbox [(ngModel)]="resourceCategory.enabled"
								 (valueChanged)="updateEnabledResourceCategories()"
								 [label]="resourceCategory.name">
					</at-checkbox>
				</div>
			</div>
		</div>
		
		<!-- Calendar Section -->
		<div class="col-12 col-md-9 h-100"
			 style="overflow: hidden;">
			<!-- Desktops -->
			<calendar *showItBootstrap="['xl', 'lg']"
					  [eventFeedEndpoint]="'reservations'"
					  [allowDaySelection]="true"
					  [hiddenStatuses]="['rejected', 'cancelled']"
					  [filterByUsers]="filterOnlyUsersEvents ? [currentUser] : null"
					  [filterByResourceCategories]="enabledResourceCategories"
					  (eventSelected)="onEventSelected($event)"
					  (daySelected)="onDaySelected($event)"
					  [view]="'basicWeek'"></calendar>
			<!-- Mobile -->
			<calendar *showItBootstrap="['xs', 'sm', 'md']"
					  [eventFeedEndpoint]="'reservations'"
					  [allowDaySelection]="true"
					  [hiddenStatuses]="['rejected', 'cancelled']"
					  [filterByUsers]="filterOnlyUsersEvents ? [currentUser] : null"
					  [filterByResourceCategories]="enabledResourceCategories"
					  (eventSelected)="onEventSelected($event)"
					  (daySelected)="onDaySelected($event)"
					  [view]="'listWeek'"></calendar>
		</div>
	</div>
</div>

<reservation-info-modal></reservation-info-modal>
<new-reservation-modal></new-reservation-modal>