<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<i id="close-icon"
   class="fa fa-close fa-2x pull-right"
   [routerLink]="['', 'secure', 'account', 'notifications']"
   angulartics2On="click"
   [angularticsCategory]="'Account - Notifications'"
   [angularticsEvent]="'ClickCloseSettings'"></i>
<div *ngIf="notificationSettings">
	<!-- We only need to show a header here if the user has multiple sections of notification preferences. -->
	<div *ngIf="currentUser?.admin || currentUser?.userGroups.length > 0">
		<h4>Personal Notifications</h4>
		<hr/>
	</div>
	<at-notification-toggler [label]="'Your Reservation is Approved'"
							 [notificationToggles]="notificationSettings.RESERVATION_APPROVED"
							 (toggle)="saveSetting('RESERVATION_APPROVED')">
	</at-notification-toggler>
	<at-notification-toggler [label]="'Your Reservation is Rejected'"
							 [notificationToggles]="notificationSettings.RESERVATION_REJECTED"
							 (toggle)="saveSetting('RESERVATION_REJECTED')">
	</at-notification-toggler>
	<at-notification-toggler [label]="'Your Reservation is Cancelled'"
							 [notificationToggles]="notificationSettings.RESERVATION_CANCELLED_USER"
							 (toggle)="saveSetting('RESERVATION_CANCELLED_USER')">
	</at-notification-toggler>
	
	<!-- Notification Preferences for Reservation Management (Users with 1 or more assigned groups) -->
	<div *ngIf="currentUser?.admin || currentUser?.userGroups.length > 0">
		<br/>
		<h4>Reservation Management Notifications</h4>
		<hr/>
		<at-notification-toggler [label]="'A Reservation is Requested'"
								 [notificationToggles]="notificationSettings.RESERVATION_REQUESTED"
								 (toggle)="saveSetting('RESERVATION_REQUESTED')">
		</at-notification-toggler>
	</div>
</div>

<alert #infoAlert
	   [severity]="'info'"></alert>
<alert #dangerAlert
	   [severity]="'danger'"></alert>