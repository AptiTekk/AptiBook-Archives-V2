<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<form id="registerForm"
	  [formGroup]="formGroup"
	  (submit)="onSubmit()">
	<alert #registerAlert
		   [severity]="'danger'"></alert>
	
	<form-group [control]="formGroup.controls['emailAddress']"
				[label]="'Email Address'"
				[faIconName]="'at'"
				[autoFocus]="true"
				[errorMessages]="
                    {
                    required: 'This is required.',
                    pattern: 'These characters are not allowed:  < > ; =',
                    maxlength: 'This must be 100 characters or less.'
                    }">
	</form-group>
	
	<form-group [control]="formGroup.controls['firstName']"
				[label]="'First Name'"
				[errorMessages]="
                    {
                    pattern: 'These characters are not allowed:  < > ; =',
                    maxlength: 'This must be 30 characters or less.'
                    }">
	</form-group>
	
	<form-group [control]="formGroup.controls['lastName']"
				[label]="'Last Name'"
				[errorMessages]="
                    {
                    pattern: 'These characters are not allowed:  < > ; =',
                    maxlength: 'This must be 30 characters or less.'
                    }">
	</form-group>
	
	<form-group [control]="formGroup.controls['password']"
				[label]="'Password'"
				[faIconName]="'asterisk'"
				[inputType]="'password'"
				[errorMessages]="
                    {
                    required: 'This is required.',
                    maxlength: 'This must be 30 characters or less.'
                    }">
	</form-group>
	`
	<form-group [control]="formGroup.controls['confirmPassword']"
				[label]="'Confirm Password'"
				[faIconName]="'asterisk'"
				[inputType]="'password'"
				[errorMessages]="
                    {
                    required: 'This is required.',
                    maxlength: 'This must be 30 characters or less.'
                    }">
	</form-group>
	<div *ngIf="!doPasswordsMatch()"
		 style="display: inline-block; color: darkred">
		The Passwords do not match!
	</div>
	<div *ngIf="!allowedDomain()"
		 style="display: inline-block; color: darkred">
		This domain is not allowed! Please contact your System Administrator.
	</div>
	<button class="btn btn-primary btn-large btn-block"
			[disabled]="formGroup.invalid || !doPasswordsMatch() || !allowedDomain() ">
		Register
	</button>

</form>

<hr/>

<button [routerLink]="['', 'sign-in']"
		class="btn btn-default btn-block">
	Return to Sign In
</button>