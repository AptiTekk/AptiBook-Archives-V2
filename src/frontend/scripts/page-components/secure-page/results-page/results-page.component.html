<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<div class="container" xmlns="http://www.w3.org/1999/html">

    <div id="search-settings" class="row">
        <div class="col-xs-12 col-sm-5 col-md-4">
            <label for="startTimePicker">Start Time: </label>
            <date-time-picker id="startTimePicker" [(ngModel)]="start" [inline]="false"
                              [sideBySide]="true"></date-time-picker>
        </div>
        <div class="col-xs-12 col-sm-5 col-md-4">
            <label for="startTimePicker">End Time: </label>
            <date-time-picker id="endTimePicker" [(ngModel)]="end" [minDate]="start" [inline]="false"
                              [sideBySide]="true"></date-time-picker>
        </div>
        <div class="col-xs-12 col-sm-2 col-md-4">
            <div class="hidden-xs col-sm-12">
                <label for="search-button">&nbsp;</label>
            </div>
            <div id="search-button" class="btn btn-primary" (click)="onSearch()">Update</div>
        </div>
    </div>

    <hr/>

    <alert #resultsUpdatedAlert [severity]="'info'" [message]="'Results Updated'"></alert>

    <div class="row">
        <div class="col-xs-12 col-md-3">
            <panel [type]="'primary'" [title]="'Filters'">
                <panel-body>
                        <div *ngFor="let category of resourceCategoryFilters">
                            {{category.name}}
                            <ui-switch [(ngModel)]="category.on"></ui-switch>
                    </div>
                    <p>-----</p>
                    <div *ngFor="let category of resourceCategoryFilters">
                        <div *ngIf="category.on == true">
                            On: {{category.name}}
                        </div>
                    </div>

                </panel-body>
            </panel>
        </div>
        <div class="col-xs-12 col-md-9">
            <div class="col-xs-12 col-md-6" *ngFor="let resource of availableResources | myfilter:resourceCategoryFilters">
                <panel [type]="'primary'">
                    <panel-body>
                        <img [src]="apiService.getApiUrlFromEndpoint('/resources/' + resource.id + '/image')"
                             height="150px" class="resource-panel-image"/>
                        <h3 class="resource-panel-title">{{resource.name}}</h3>
                        <hr/>
                        Category: <span style="font-weight: bold">{{resource.resourceCategory.name}}</span>
                    </panel-body>
                    <panel-footer>
                        <button class="btn btn-primary">Reserve This</button>
                    </panel-footer>
                </panel>
            </div>
        </div>
    </div>
</div>