<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<ol class="breadcrumb">
	<li class="active">Configuration</li>
	<li class="active">Properties</li>
</ol>

<div class="container-fluid">
	<div *ngIf="properties != undefined">
		<div class="row">
			<form [formGroup]="formGroup"
				  (submit)="onSubmit()">
				
				<div class="col-xs-12 col-md-8">
					<!-- Personalization Section -->
					<h3>Personalization</h3>
					<hr/>
					
					<!-- Organization Name -->
					<form-group [control]="formGroup.controls['PERSONALIZATION_ORGANIZATION_NAME']"
								[label]="'Organization Name'"
								[placeholder]="'Bingham High School'"
								[autoFocus]="true">
					</form-group>
				
				</div>
				<div class="col-xs-12 col-md-8">
					<!-- Google Sign In Section -->
					<h3>Google Sign In</h3>
					<hr/>
					
					<!-- Sign In Enabled Toggle Switch -->
					<div class="from-group">
						<label>Google Sign-In Enabled</label>
						<br/>
						<toggle-switch #googleSignInEnabledSwitch
									   [onText]="'Yes'"
									   [offText]="'No'"
									   style="margin-right: 10px"
									   formControlName="GOOGLE_SIGN_IN_ENABLED">
						</toggle-switch>
					</div>
					<br/>
					
					<!-- Allowed Domain Names -->
					<form-group [control]="formGroup.controls['GOOGLE_SIGN_IN_WHITELIST']"
								[label]="'Allowed Google Sign-In Domain Names (Comma Separated)'"
								[readOnly]="!googleSignInEnabledSwitch.isOn()">
					</form-group>
				</div>
				<div class="col-xs-12 col-md-8">
					<!-- Registration Section -->
					<h3>Registration</h3>
					<hr/>
					
					<!-- Registration Enabled Toggle Switch -->
					<div class="from-group">
						<label>Registration Enabled</label>
						<br/>
						<toggle-switch
								[(ngModel)]="formGroup.controls['REGISTRATION_ENABLED'].value"
								[onText]="'Yes'"
								[offText]="'No'"
								style="margin-right: 10px"
								formControlName="REGISTRATION_ENABLED"></toggle-switch>
					</div>
				</div>
				<div class="col-xs-12">
					<hr/>
					
					<div class="row">
						<div class="col-xs-12 col-md-8">
							<alert #successAlert
								   [severity]="'success'"></alert>
							<alert #warnAlert
								   [severity]="'warning'"></alert>
						</div>
					</div>
					
					<!-- Toolbar -->
					<div class="btn-toolbar">
						<button class="btn btn-primary">
							Submit Changes
						</button>
						<button class="btn btn-default "
								type="button"
								(click)="confirmationModal.open()">
							Reset Properties
						</button>
					</div>
				
				</div>
			</form>
		</div>
	</div>
</div>

<properties-confirm-modal
		#confirmationModal
		[message]="'Are you sure you want to reset all properties?'"
		(confirm)="reset()">
</properties-confirm-modal>
