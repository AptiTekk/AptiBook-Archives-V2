<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<div class="container-fluid">
    <ol class="breadcrumb">
        <li><a [routerLink]="['', 'secure']">Home</a></li>
        <li class="active">Configuration</li>
        <li class="active">Resources</li>
    </ol>

    <div class="row">
        <!-- Resource Categories Selection Sidebar -->
        <div class="col-xs-12 col-md-3">
            <ul id="resource-categories-list">
                <li *ngFor="let resourceCategory of resourceCategories"
                    [class.selected]="currentResourceCategory && currentResourceCategory.name === resourceCategory.name"
                    [routerLink]="['', 'secure', 'configuration', 'resources', resourceCategory.name.toLowerCase()]">
                    {{resourceCategory.name}}
                </li>
            </ul>
            <hr/>
            <div class="btn-toolbar">
                <button class="btn btn-primary"
                        (click)="newCategoryModal.open()">
                    Add New Category
                </button>
                <button class="btn btn-default"
                        (click)="editCategoryModal.open(currentResourceCategory)"
                        *ngIf="currentResourceCategory">
                    Edit This Category
                </button>
            </div>
        </div>
        <div class="col-xs-12 col-md-9" *ngIf="currentResourceCategory">
            <div class="col-xs-12 col-md-6"
                 *ngFor="let resource of currentResourceCategory.resources">
                <panel [type]="'primary'">
                    <panel-body>
                        <img [src]="apiService.getApiUrlFromEndpoint('/resources/' + resource.id + '/image')"
                             height="150px" class="resource-panel-image"/>
                        <h3 class="resource-panel-title">{{resource.name}}</h3>
                        <hr/>
                    </panel-body>
                    <panel-footer>
                        <button class="btn btn-default" (click)="false">Edit</button>
                        <button class="btn btn-danger pull-right" (click)="false">Delete</button>
                    </panel-footer>
                </panel>
            </div>
        </div>
    </div>
</div>

<new-category-modal #newCategoryModal
                    (submitted)="onNewCategory($event)">
</new-category-modal>

<edit-category-modal #editCategoryModal
                     (submitted)="onEditCategory($event)"
                     (deleted)="onDeleteCategory()">
</edit-category-modal>