<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<ol class="breadcrumb">
	<li class="active">Dashboard</li>
</ol>

<!-- Left Calendar Section -->
<div class="col-xs-12 col-lg-9">
	<div class="full-height-breadcrumb">
		<calendar [eventFeedUrl]="apiService.getApiUrlFromEndpoint('reservations')"
				  [allowDaySelection]="true"
				  [hiddenStatuses]="['rejected', 'cancelled']"
				  [filterByUsers]="filterOnlyUsersEvents ? [currentUser] : null"
				  [filterByResourceCategories]="enabledResourceCategories"
				  (eventSelected)="reservationInfoModal.display($event)"
				  (daySelected)="newReservationModal.display($event)"></calendar>
	</div>
</div>

<!-- Right Toolbar / Filter Section -->
<div class="col-xs-12 col-lg-3">
	
	<!-- Filters Section -->
	<calendar-header [label]="'Calendar Filters'">
	</calendar-header>
	<div style="padding: 10px 10px">
		<div class="form-group">
			<toggle-switch [(ngModel)]="filterOnlyUsersEvents"
						   style="margin-right: 10px"></toggle-switch>
			<label>Only My Reservations</label>
		</div>
		<h4>Category Filters</h4>
		<hr/>
		<div class="form-group"
			 *ngFor="let resourceCategory of resourceCategories">
			<toggle-switch [(ngModel)]="resourceCategory.enabled"
						   (onToggle)="updateEnabledResourceCategories()"
						   style="margin-right: 10px"></toggle-switch>
			<label>{{resourceCategory.name}}</label>
		</div>
	</div>
	
	<!-- Upcoming Reservations Section -->
	<calendar-header [label]="'Your Upcoming Reservations'">
	</calendar-header>
	
	<div style="padding: 10px 10px">
		<upcoming-reservations></upcoming-reservations>
	</div>

</div>

<reservation-info-modal #reservationInfoModal></reservation-info-modal>
<new-reservation-modal #newReservationModal></new-reservation-modal>