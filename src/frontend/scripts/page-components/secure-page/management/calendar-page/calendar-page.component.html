<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<ol class="breadcrumb">
    <li><a [routerLink]="['', 'secure']">Home</a></li>
    <li class="active">Reservation Management</li>
    <li class="active">Calendar</li>
</ol>

<div class="row">
    <!-- Calendar Section -->
    <div class="col-xs-12 col-lg-9 ">
        <div class="full-height-breadcrumb">
            <calendar [eventFeedUrl]="apiService.getApiUrlFromEndpoint('reservations')"
                      [hiddenStatuses]="['rejected', 'cancelled']"
                      [filterByUsers]="filterOnlyUsersEvents ? [currentUser] : null"
                      [filterByResourceCategories]="enabledResourceCategories"
                      [filterByUserGroupOwners]="userGroupOwnerFilter"
                      (eventSelected)="reservationInfoModal.display($event)"></calendar>
        </div>
    </div>

    <div class="col-xs-12 hidden-lg" style="margin-top: 20px"></div>

    <!-- Right Toolbar / Filter Section -->
    <div class="col-xs-12 col-lg-3">
        <panel [type]="'primary'" [title]="'Calendar Filters'">
            <panel-body>
                <h4>Category Filters</h4>
                <hr/>
                <div class="form-group" *ngFor="let resourceCategory of resourceCategories">
                    <toggle-switch [(ngModel)]="resourceCategory.enabled"
                                   (onToggle)="updateEnabledResourceCategories()"
                                   style="margin-right: 10px"></toggle-switch>
                    <label>{{resourceCategory.name}}</label>
                </div>
            </panel-body>
        </panel>
    </div>
</div>
<reservation-info-modal #reservationInfoModal></reservation-info-modal>