<!--
  ~ Copyright (C) 2016 AptiTekk, LLC. (https://AptiTekk.com/) - All Rights Reserved
  ~ Unauthorized copying of any part of AptiBook, via any medium, is strictly prohibited.
  ~ Proprietary and confidential.
  -->

<div class="tree-node-drop-point"
	 *ngIf="!userGroup.root"
	 [class.node-over]="nodeOverDropPoint"
	 (dragenter)="onDragEnterDropPoint($event)"
	 (dragover)="onDragEnterDropPoint($event)"
	 (dragleave)="onDragLeaveDropPoint($event)"
	 (drop)="onDropPointDrop($event)"></div>

<div class="tree-node"
	 [class.node-selected]="isSelected()"
	 [class.node-dragging]="tree.draggingNode === this"
	 [class.node-over]="nodeOverNode"
	 [style.cursor]="tree.selectable ? 'pointer' : 'default'"
	 (click)="onNodeClick($event)"
	 (dragstart)="onDragStart($event)"
	 (dragend)="onDragEnd($event)"
	 (dragenter)="onDragEnterNode($event)"
	 (dragover)="onDragEnterNode($event)"
	 (dragleave)="onDragLeaveNode($event)"
	 (drop)="onNodeDrop($event)"
	 [draggable]="userGroup.root ? false : tree.dragAndDrop">
	{{userGroup.name}}
</div>

<ul *ngIf="userGroup.children && userGroup.children.length > 0">
	<li *ngFor="let userGroup of userGroup.children">
		<tree-node
				[tree]="tree"
				[parent]="this"
				[userGroup]="userGroup"></tree-node>
	</li>
</ul>